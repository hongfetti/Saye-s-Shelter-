// Dog Data
const dogs = [
  {
    name: "Max",
    age: 9,
    breed: "Pitbull",
    size: "Medium",
    description: "Max is a playful Pitbull who loves animals but is not good with kids. He's waiting for his forever home.",
    goodWith: ["Animals"],
    notGoodWith: ["Kids"],
    image: "max.jpg"
  },
  {
    name: "Jack",
    age: 2,
    breed: "Golden Retriever",
    size: "Giant",
    description: "Jack is a loving Golden Retriever who wants to spend Christmas in a happy, fun home. He loves cats but must be the only dog in the house.",
    goodWith: ["Cats"],
    notGoodWith: ["Other dogs"],
    image: "jack.jpg"
  },
  {
    name: "Bella",
    age: 4,
    breed: "Poodle Mix",
    size: "Small",
    description: "Bella is a silly and spoiled Poodle mix who loves kids and animals. She will make everyone happy with her cheerful personality.",
    goodWith: ["Kids", "Animals"],
    notGoodWith: [],
    image: "bella.jpg"
  }
];

// Filtered Dogs
let filteredDogs = [];

// Dynamically Create UI
function createUI() {
  // App Header
  const header = document.createElement("header");
  header.textContent = "Welcome to S - Dog Adoption App by Helia!";
  document.body.appendChild(header);

  // Theme Selector
  const themeDropdown = document.createElement("select");
  themeDropdown.id = "themeDropdown";
  themeDropdown.style.margin = "20px auto";
  themeDropdown.style.padding = "10px";
  themeDropdown.style.fontSize = "1rem";
  themeDropdown.style.display = "block";
  themeDropdown.style.border = "1px solid #007BFF";
  themeDropdown.style.color = "#007BFF";

  const themes = ["Light Theme", "Dark Theme", "Playful Theme"];
  themes.forEach(theme => {
    const option = document.createElement("option");
    option.value = theme.toLowerCase().replace(" ", "-");
    option.textContent = theme;
    themeDropdown.appendChild(option);
  });
  document.body.appendChild(themeDropdown);

  // Dropdown for dog size
  const sizeDropdown = document.createElement("select");
  sizeDropdown.id = "sizeDropdown";
  document.body.appendChild(sizeDropdown);

  const sizes = ["Select a size", "Small", "Medium", "Large", "Giant"];
  sizes.forEach(size => {
    const option = document.createElement("option");
    option.value = size;
    option.textContent = size;
    sizeDropdown.appendChild(option);
  });

  // Output sections
  const nameOutput = document.createElement("h2");
  nameOutput.id = "nameOutput";
  nameOutput.textContent = "Dog's Name and Age";
  document.body.appendChild(nameOutput);

  const descriptionOutput = document.createElement("p");
  descriptionOutput.id = "descriptionOutput";
  descriptionOutput.textContent = "Dog's Description";
  document.body.appendChild(descriptionOutput);

  const picture = document.createElement("img");
  picture.id = "picture";
  picture.style.display = "block";
  picture.style.margin = "20px auto";
  document.body.appendChild(picture);
}

// Filter Dogs by Size
function filterDogs() {
  const selectedSize = document.getElementById("sizeDropdown").value;
  filteredDogs = dogs.filter(dog => dog.size === selectedSize);
}

// Update the Screen
function updateScreen() {
  const nameOutput = document.getElementById("nameOutput");
  const descriptionOutput = document.getElementById("descriptionOutput");
  const picture = document.getElementById("picture");

  if (filteredDogs.length > 0) {
    const randomDog = filteredDogs[Math.floor(Math.random() * filteredDogs.length)];
    nameOutput.textContent = `${randomDog.name}, Age: ${randomDog.age}`;
    descriptionOutput.textContent = randomDog.description;
    picture.src = randomDog.image; // Assuming the image is in the same directory
  } else {
    nameOutput.textContent = "No dogs found.";
    descriptionOutput.textContent = "";
    picture.src = "";
  }
}

// Switch Theme
function switchTheme() {
  const selectedTheme = document.getElementById("themeDropdown").value;
  document.getElementById("themeStylesheet").href = `${selectedTheme}.css`;
}

// Initialize the Screen
function initSetup() {
  filterDogs();
  updateScreen();
}

// Setup Event Listeners
function setupEventListeners() {
  document.getElementById("sizeDropdown").addEventListener("change", initSetup);
  document.getElementById("themeDropdown").addEventListener("change", switchTheme);
}

// Initialize Everything
function initialize() {
  createUI();
  setupEventListeners();
  initSetup();
}

// Run the script
initialize();